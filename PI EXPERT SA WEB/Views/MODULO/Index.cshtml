@model IEnumerable<PI_EXPERT_SA_WEB.Models.MODULO>

@{
    ViewBag.Title = "Index";
}

<h2>Módulos</h2>
<h3>Seleccionar Proyecto</h3>
<a href="@Url.Action("Create", "MODULO", new { })" style="float:right">
    <img src="~/images/plus.svg" whd="30" height="30" />
</a>


@using (Html.BeginForm("Index", "MODULO", FormMethod.Get))
{
    //@Html.DropDownList("idProyectoPK", null, htmlAttributes: new { @class = "form-control" }) //<input type="submit" value="Busqueda">
    //@Html.DropDownList("idProyectoPK", new SelectList(ViewBag as List<PI_EXPERT_SA_WEB.Models.PROYECTO>, null, "idProyectoPK"), "----------") <input type="submit" value="Busqueda" />
    //@Html.DropDownListFor(model => model, ViewBag.proyectos as SelectList, "--SeleccionarProyecto--", new { @class="form-control"})
    @Html.TextBox("busqueda") <input type="submit" value="Busqueda" />
}


<table class="table table-bordered table-striped">
    <tr>
        <th>
            @*@Html.DisplayNameFor(model => model.nombre)*@
            <b>Nombre del módulo</b>
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.fechaInicio)*@
            <b>Fecha de Inicio</b>
        </th>
    </tr>

    @if (Model.Count() == 0)
    {
        <tr>
            <td colspan="3" style="color:red">
                No hay resultados
            </td>
        </tr>
    }
    else
    {
        foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.nombre)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.fechaInicio)
                </td>
                <td>
                    <a href="@Url.Action("Details", "MODULO", new {idModuloPK = item.idModuloPK, idProyectoPK = item.idProyectoPK})" style="float:unset">
                        <img src="~/images/more.svg" width="30" height="30" />
                    </a>
                </td>
        </tr>
    }
    }


</table>

